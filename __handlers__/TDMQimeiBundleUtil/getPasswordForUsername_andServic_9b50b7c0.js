/*
 * Auto-generated by Frida. Please modify to match the signature of +[TDMQimeiBundleUtil getPasswordForUsername:andServiceName:accAttribute:error:].
 * This stub is currently auto-generated from manpages when available.
 *
 * For full API reference, see: https://frida.re/docs/javascript-api/
 */

defineHandler({
  onEnter(log, args, state) {
    log(`+[TDMQimeiBundleUtil getPasswordForUsername:${args[2]} andServiceName:${args[3]} accAttribute:${args[4]} error:${args[5]}]`);
      var p = ptr(args[2]);
      try {
          var obj = new ObjC.Object(args[2]);
          console.log('args[2] OC object:', obj.$className, obj.toString());
      } catch (e) {
          console.log('args[2]not OC object');
          console.log('args[2] pointer value:', Memory.readPointer(p));
      }

      var p3 = ptr(args[3]);
      try {
          var obj = new ObjC.Object(args[3]);
          console.log('args[3] OC object:', obj.$className, obj.toString());
      } catch (e) {
          console.log('args[3]not OC object');
          console.log('args[3] pointer value:', Memory.readPointer(p3));
      }

      var p4 = ptr(args[4]);
      try {
          var obj = new ObjC.Object(args[2]);
          console.log('args[4] OC object:', obj.$className, obj.toString());
      } catch (e) {
          console.log('args[4]not OC object');
          console.log('args[4] pointer value:', Memory.readPointer(p4));
      }
  },

  onLeave(log, retval, state) {
      var p = ptr(retval);
      try {
          var obj = new ObjC.Object(p);
          console.log('retval OC object:', obj.$className, obj.toString());
      } catch (e) {
          console.log('retval not OC object');
          console.log('retval pointer value:', Memory.readPointer(p));
      }
  }
});
